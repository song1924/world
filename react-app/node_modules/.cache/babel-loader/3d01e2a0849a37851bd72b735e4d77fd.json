{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Julia Park\\\\source\\\\repos\\\\world\\\\react-app\\\\src\\\\components\\\\Cities.jsx\";\nimport React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport { FaPencilAlt, FaTrashAlt } from \"react-icons/fa\";\nimport filterFactory, { textFilter } from 'react-bootstrap-table2-filter';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nexport const Cities = ({\n  country\n}) => {\n  const [cities, setCities] = useState([]);\n\n  if (!country || country.length === 0) {\n    if (cities.length !== 0) {\n      setCities([]);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 16\n      }\n    });\n  }\n\n  const GET_CITIES = `\nquery getCities {\ncities(filters: {countrycode: \"${country.code}\"}) {\nedges {\nnode {\nid \nname \ncountrycode \ndistrict \npopulation \n}\n}\n}\n}\n\n`;\n\n  if (cities.length === 0) {\n    fetch('/graphql?query=' + GET_CITIES).then(res => res.json()).then(data => {\n      setCities(data.data.cities.edges);\n    });\n  }\n\n  let city_ls = [];\n\n  for (const city of cities) {\n    city_ls.push(city.node);\n  }\n\n  const columns = [{\n    dataField: 'id',\n    text: 'ID'\n  }, {\n    dataField: 'name',\n    text: 'City Name',\n    sort: true,\n    filter: textFilter()\n  }, {\n    dataField: 'district',\n    text: 'District',\n    sort: true,\n    filter: textFilter()\n  }, {\n    dataField: 'population',\n    text: 'Population',\n    sort: true\n  }];\n  const defaultSorted = [{\n    dataField: 'population',\n    order: 'desc'\n  }];\n  const expandRow = {\n    renderer: row => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App-data-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      id: row.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FaPencilAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 55\n      }\n    }), \" Edit City\"), ' ', /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      id: row.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 57\n      }\n    }), \" Delete City\")),\n    showExpandColumn: true\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App-data-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, \"Cities in Country\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"success\",\n    className: \"App-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Add City\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BootstrapTable, {\n    wrapperClasses: \"table-responsive\",\n    keyField: \"id\",\n    data: city_ls,\n    columns: columns,\n    defaultSorted: defaultSorted,\n    filter: filterFactory(),\n    expandRow: expandRow,\n    pagination: paginationFactory(),\n    striped: true,\n    hover: true,\n    condensed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  })));\n};","map":{"version":3,"sources":["C:/Users/Julia Park/source/repos/world/react-app/src/components/Cities.jsx"],"names":["React","useState","Button","BootstrapTable","FaPencilAlt","FaTrashAlt","filterFactory","textFilter","paginationFactory","Cities","country","cities","setCities","length","GET_CITIES","code","fetch","then","res","json","data","edges","city_ls","city","push","node","columns","dataField","text","sort","filter","defaultSorted","order","expandRow","renderer","row","id","showExpandColumn"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { FaPencilAlt, FaTrashAlt } from \"react-icons/fa\";\r\nimport filterFactory, { textFilter } from 'react-bootstrap-table2-filter';\r\nimport paginationFactory from 'react-bootstrap-table2-paginator';\r\n\r\nexport const Cities = ({ country }) => {\r\n    const [cities, setCities] = useState([]);\r\n\r\n    if (!country || country.length === 0) {\r\n        if (cities.length !== 0) {\r\n            setCities([]);\r\n        }\r\n\r\n        return <div></div>\r\n    }\r\n\r\n    const GET_CITIES = `\r\nquery getCities {\r\ncities(filters: {countrycode: \"${country.code}\"}) {\r\nedges {\r\nnode {\r\nid \r\nname \r\ncountrycode \r\ndistrict \r\npopulation \r\n}\r\n}\r\n}\r\n}\r\n\r\n`;\r\n\r\n    if (cities.length === 0) {\r\n        fetch('/graphql?query=' + GET_CITIES).then(res => res.json())\r\n            .then(data => {\r\n                setCities(data.data.cities.edges);\r\n            });\r\n    }\r\n    \r\n    let city_ls = [];\r\n    for (const city of cities) {\r\n        city_ls.push(city.node);\r\n    }\r\n\r\n    const columns = [{\r\n        dataField: 'id',\r\n        text: 'ID'\r\n    }, {\r\n        dataField: 'name',\r\n        text: 'City Name',\r\n            sort: true,\r\n            filter: textFilter()\r\n    }, {\r\n        dataField: 'district',\r\n        text: 'District',\r\n            sort: true,\r\n            filter: textFilter()\r\n    }, {\r\n        dataField: 'population',\r\n        text: 'Population',\r\n        sort: true\r\n    }];\r\n\r\n    const defaultSorted = [{\r\n        dataField: 'population',\r\n        order: 'desc'\r\n    }];\r\n\r\n    const expandRow = {\r\n        renderer: row => (\r\n            <div className=\"App-data-buttons\">\r\n                <Button variant=\"primary\" id={row.id}><FaPencilAlt /> Edit City</Button>{' '}\r\n                <Button variant=\"secondary\" id={row.id}><FaTrashAlt /> Delete City</Button>\r\n            </div>\r\n        ),\r\n        showExpandColumn: true\r\n    };\r\n\r\n    return (\r\n        <div className=\"App-data-wrap\">\r\n            <p>Cities in Country</p>\r\n            <Button variant=\"success\" className=\"App-button\">Add City</Button>\r\n            <div className=\"App-table\">\r\n                <BootstrapTable wrapperClasses=\"table-responsive\" keyField=\"id\" data={city_ls} columns={columns} defaultSorted={defaultSorted} filter={filterFactory()} expandRow={expandRow} pagination={paginationFactory()} striped hover condensed />\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}